<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sell Product</title>
</head>
<body>
    <div id="sell-product-form-container">
        <h2>Sell Product</h2>
        <form id="sell-product-form" action="sell.php" method="post">
            <label for="buyer-name">Name:</label>
            <input type="text" id="buyer-name" name="buyer-name" required> <br> <br>
            <label for="phone-number">Phone Number:</label>
            <input type="text" id="phone-number" name="phone-number" required> <br> <br>
            <label for="id-number">ID Number:</label>
            <input type="text" id="id-number" name="id-number" required> <br> <br>
            <label for="tool-selection">Tool:</label>
            <select id="tool-selection" name="tool-selection" required>
                <!-- Options will be populated dynamically -->
            </select> <br> <br>
            <label for="number-of-tools">Number of Tools:</label>
            <input type="number" id="number-of-tools" name="number-of-tools" min="1" required> <br> <br>
            <label for="product-price">Price per Tool:</label>
            <input type="number" id="product-price" name="product-price" step="0.01" required> <br> <br>
            <button type="submit">Sell</button>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
    $(document).ready(function() {
        // Fetch tools from the server and update the drop-down menu
        $.ajax({
            url: 'get_tools.php', // Replace 'get_tools.php' with the actual PHP script to fetch tools from the database
            type: 'GET',
            dataType: 'json',
            success: function(data) {
                // 'data' is an array of tool names fetched from the server
                var toolSelect = $('#tool-selection');
                data.forEach(function(toolName) {
                    // Create a new <option> element for each tool and append it to the drop-down menu
                    var option = $('<option>').text(toolName).val(toolName);
                    toolSelect.append(option);
                });
            },
            error: function() {
                // Handle errors if the fetch fails
                console.log('Failed to fetch tools from the server.');
            }
        });
    });
    </script>
</body>
</html>
